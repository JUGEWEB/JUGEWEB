{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GetItemInfo=()=>{const[folderId,setFolderId]=useState(\"\");const[data,setData]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[selectedFields,setSelectedFields]=useState({});const[updatedFields,setUpdatedFields]=useState({});const fetchFolderInfo=async()=>{setLoading(true);setError(null);setData(null);try{const response=await fetch(`https://api.malidag.com/info/${folderId}`);if(!response.ok){throw new Error(\"Failed to fetch folder information.\");}const result=await response.json();setData(result);// Initialize selected fields and updated fields\nconst initialFields={};for(const key in result.textFields){initialFields[key]=false;}setSelectedFields(initialFields);setUpdatedFields(result.textFields);}catch(err){setError(err.message);}finally{setLoading(false);}};const handleFieldChange=(field,value)=>{setUpdatedFields(prev=>({...prev,[field]:value}));};const handleFieldSelection=field=>{setSelectedFields(prev=>({...prev,[field]:!prev[field]}));};const handleSubmit=async()=>{const fieldsToUpdate=Object.keys(selectedFields).reduce((acc,field)=>{if(selectedFields[field]){acc[field]=updatedFields[field];}return acc;},{});try{const response=await fetch(`https://api.malidag.com/modify/${folderId}`,{method:\"PUT\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(fieldsToUpdate)});if(!response.ok){throw new Error(\"Failed to update fields.\");}alert(\"Fields updated successfully!\");}catch(err){alert(\"Error updating fields: \"+err.message);}};return/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:\"500px\",overflowX:\"auto\",height:\"auto\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Fetch Folder Information\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"20px\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Folder ID\",value:folderId,onChange:e=>setFolderId(e.target.value),style:{padding:\"8px\",marginRight:\"10px\",borderRadius:\"4px\",border:\"1px solid #ccc\"}}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchFolderInfo,style:{padding:\"8px 12px\",backgroundColor:\"#007BFF\",color:\"#fff\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\"},children:\"Get Folder Info\"})]}),loading&&/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:\"red\"},children:error}),data&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Folder Information\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[\"Folder ID: \",data.folderId]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Modify Text Fields\"}),/*#__PURE__*/_jsx(\"div\",{children:Object.keys(data.textFields).map(field=>/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:\"10px\"},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedFields[field],onChange:()=>handleFieldSelection(field)}),/*#__PURE__*/_jsx(\"label\",{style:{marginLeft:\"8px\"},children:field}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:updatedFields[field],onChange:e=>handleFieldChange(field,e.target.value),disabled:!selectedFields[field],style:{marginLeft:\"8px\",padding:\"4px\",borderRadius:\"4px\",border:\"1px solid #ccc\"}})]},field))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,style:{padding:\"8px 12px\",backgroundColor:\"#28a745\",color:\"#fff\",border:\"none\",borderRadius:\"4px\",cursor:\"pointer\"},children:\"Submit Changes\"})]})]});};export default GetItemInfo;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","GetItemInfo","folderId","setFolderId","data","setData","loading","setLoading","error","setError","selectedFields","setSelectedFields","updatedFields","setUpdatedFields","fetchFolderInfo","response","fetch","ok","Error","result","json","initialFields","key","textFields","err","message","handleFieldChange","field","value","prev","handleFieldSelection","handleSubmit","fieldsToUpdate","Object","keys","reduce","acc","method","headers","body","JSON","stringify","alert","style","maxWidth","overflowX","height","children","marginBottom","type","placeholder","onChange","e","target","padding","marginRight","borderRadius","border","onClick","backgroundColor","color","cursor","map","checked","marginLeft","disabled"],"sources":["C:/malidagproduct/src/components/getItemInfo.js"],"sourcesContent":["import React, { useState } from \"react\";\r\n\r\nconst GetItemInfo = () => {\r\n  const [folderId, setFolderId] = useState(\"\");\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [selectedFields, setSelectedFields] = useState({});\r\n  const [updatedFields, setUpdatedFields] = useState({});\r\n\r\n  const fetchFolderInfo = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n    setData(null);\r\n\r\n    try {\r\n      const response = await fetch(`https://api.malidag.com/info/${folderId}`);\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to fetch folder information.\");\r\n      }\r\n      const result = await response.json();\r\n      setData(result);\r\n\r\n      // Initialize selected fields and updated fields\r\n      const initialFields = {};\r\n      for (const key in result.textFields) {\r\n        initialFields[key] = false;\r\n      }\r\n      setSelectedFields(initialFields);\r\n      setUpdatedFields(result.textFields);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFieldChange = (field, value) => {\r\n    setUpdatedFields((prev) => ({\r\n      ...prev,\r\n      [field]: value,\r\n    }));\r\n  };\r\n\r\n  const handleFieldSelection = (field) => {\r\n    setSelectedFields((prev) => ({\r\n      ...prev,\r\n      [field]: !prev[field],\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    const fieldsToUpdate = Object.keys(selectedFields).reduce((acc, field) => {\r\n      if (selectedFields[field]) {\r\n        acc[field] = updatedFields[field];\r\n      }\r\n      return acc;\r\n    }, {});\r\n\r\n    try {\r\n      const response = await fetch(`https://api.malidag.com/modify/${folderId}`, {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(fieldsToUpdate),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(\"Failed to update fields.\");\r\n      }\r\n\r\n      alert(\"Fields updated successfully!\");\r\n    } catch (err) {\r\n      alert(\"Error updating fields: \" + err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: \"500px\", overflowX: \"auto\", height: \"auto\" }}>\r\n      <h1>Fetch Folder Information</h1>\r\n      <div style={{ marginBottom: \"20px\" }}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Enter Folder ID\"\r\n          value={folderId}\r\n          onChange={(e) => setFolderId(e.target.value)}\r\n          style={{\r\n            padding: \"8px\",\r\n            marginRight: \"10px\",\r\n            borderRadius: \"4px\",\r\n            border: \"1px solid #ccc\",\r\n          }}\r\n        />\r\n        <button\r\n          onClick={fetchFolderInfo}\r\n          style={{\r\n            padding: \"8px 12px\",\r\n            backgroundColor: \"#007BFF\",\r\n            color: \"#fff\",\r\n            border: \"none\",\r\n            borderRadius: \"4px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          Get Folder Info\r\n        </button>\r\n      </div>\r\n\r\n      {loading && <div>Loading...</div>}\r\n      {error && <div style={{ color: \"red\" }}>{error}</div>}\r\n\r\n      {data && (\r\n        <div>\r\n          <h1>Folder Information</h1>\r\n          <h2>Folder ID: {data.folderId}</h2>\r\n\r\n          <h3>Modify Text Fields</h3>\r\n          <div>\r\n            {Object.keys(data.textFields).map((field) => (\r\n              <div key={field} style={{ marginBottom: \"10px\" }}>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={selectedFields[field]}\r\n                  onChange={() => handleFieldSelection(field)}\r\n                />\r\n                <label style={{ marginLeft: \"8px\" }}>{field}</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={updatedFields[field]}\r\n                  onChange={(e) => handleFieldChange(field, e.target.value)}\r\n                  disabled={!selectedFields[field]}\r\n                  style={{\r\n                    marginLeft: \"8px\",\r\n                    padding: \"4px\",\r\n                    borderRadius: \"4px\",\r\n                    border: \"1px solid #ccc\",\r\n                  }}\r\n                />\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <button\r\n            onClick={handleSubmit}\r\n            style={{\r\n              padding: \"8px 12px\",\r\n              backgroundColor: \"#28a745\",\r\n              color: \"#fff\",\r\n              border: \"none\",\r\n              borderRadius: \"4px\",\r\n              cursor: \"pointer\",\r\n            }}\r\n          >\r\n            Submit Changes\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GetItemInfo;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}